# LPMM知识库OpenIE文件要求（非强制）


## OpenIE文件要求
### 分段

首先，确保你的文本分段良好。

分段方式：按照同一主题，设置一个大段落，每个段落之间有一个空行。相邻的自然段将认为是一个大段落。比如下面的例子：

```
精神状态良好：形容自己精神状态良好的反讽，实际精神状态非常不稳定。

躺平：是一个网络热梗。指无论对方做出什么反应，内心都毫无波澜，对此不会有任何反应或者反抗，表示顺从心理，也表示不再热血沸腾的状态。

内卷：指一类文化模式达到了某种最终的形态以后，既没有办法稳定下来，也没有办法转变为新的形态，而只能不断地在内部变得更加复杂的现象称为"内卷化"。
现在流行成了一个字，"卷"，很多高校学生用其来指非理性的内部竞争或"被自愿"竞争。
现应用在各行各业以及各个领域中的竞争，指同行间竞相付出更多努力以争夺有限资源，从而导致个体"收益努力比"下降的现象。

凡尔赛：源自于微博上的晒富行为，形容那些故意炫耀自己、表现自己富有的人或行为，讽刺意味十足。

社死：形容某个人在公共场合出现时，因某种原因感到极其尴尬和不好意思，表现出了人们在社会交往中的种种尴尬情景。
```

进行提取完的OpenIE文件会命名为`月-日-时-分-openie.json`，存放在`data/openie`目录下。

此时，你可以进行改名，例如增加对内容的说明

但是，文件尾部的`-openie.json`后缀必须保留。

例子：

合法的文件名称：

- `千恋万花剧情-openie.json`
- `明日方舟全剧情-openie.json`
- `网络热梗(截止到2023年10月)-openie.json`

非法的文件名称：
- `贴吧热梗-openie.txt`（非json格式）
- `明日方舟全剧情.json`（没有openie标识）
- `114514-openie.json`（对内容描述不精确）


# 下面的内容是OpenIE数据格式的说明，可以选择性阅读

# OpenIE 数据格式与技术简介

## 一、OpenIE 技术概述
**Open Information Extraction (OpenIE)** 是一种开放域信息抽取技术，旨在从非结构化文本中自动提取结构化关系三元组（`主语-谓语-宾语`），无需预定义关系类型。其核心特点包括：
- **无监督性**：不依赖预定义的领域本体或关系库。
- **灵活性**：可处理多样化的语言表达（如"苹果由乔布斯创立"和"乔布斯是苹果的创始人"）。
- **冗余容忍**：允许同一关系不同表述的多次提取。

## 二、OpenIE 数据格式规范
### 1. 整体结构
```json
{
    "docs": [
        {
            "idx": "文档的唯一标识符（通常是文本的SHA256哈希值）",
            "passage": "文档的原始文本",
            "extracted_entities": ["实体1", "实体2", ...],
            "extracted_triples": [["主语", "谓语", "宾语"], ...]
        },
        ...
    ],
    "avg_ent_chars": "实体平均字符数",
    "avg_ent_words": "实体平均词数"
}
```

### 2. 字段说明
| 字段                | 类型       | 描述                                                                 |
|---------------------|------------|----------------------------------------------------------------------|
| `docs`              | 数组       | 包含所有文档的抽取结果                                               |
| `idx`               | 字符串     | 文档唯一标识符（通常用SHA256哈希值保证文本唯一性）                   |
| `passage`           | 字符串     | 原始文本内容                                                         |
| `extracted_entities`| 字符串数组 | 从文本中识别出的所有实体（去重）                                     |
| `extracted_triples` | 三元组数组 | 抽取的结构化关系，每个三元组格式为 `["主语", "谓语", "宾语"]`        |
| `avg_ent_chars`     | 数值       | 实体的平均字符长度（统计所有`extracted_entities`）                   |
| `avg_ent_words`     | 数值       | 实体的平均单词数（按空格分词计算）                                   |

### 3. 示例
```json
{
    "docs": [
        {
            "idx": "a1b2c3...",
            "passage": "Steve Jobs founded Apple in 1976.",
            "extracted_entities": ["Steve Jobs", "Apple", "1976"],
            "extracted_triples": [
                ["Steve Jobs", "founded", "Apple"],
                ["Apple", "founded in", "1976"]
            ]
        }
    ],
    "avg_ent_chars": 8.3,
    "avg_ent_words": 1.7
}
```

## 三、技术实现关联
1. **实体抽取**  
   - 通过命名实体识别（NER）或语法分析（如依存句法）获取`extracted_entities`。
   - 统计字段（`avg_ent_chars/words`）用于评估实体复杂度。

2. **关系三元组生成**  
   - 基于动词短语或介词结构提取谓语（如"founded"、"founded in"）。
   - 保留原始文本的多元关系（如时间/地点可扩展为四元组）。

3. **去重与标识符**  
   - `idx` 字段支持跨文档关联（如相同文本的多次处理结果对比）。
   - 三元组可附加置信度（需扩展字段如`"confidence": 0.92`）。

## 四、应用场景
- **知识图谱构建**：将`extracted_triples`导入图数据库。
- **语义搜索**：通过三元组增强查询理解。
- **文本摘要**：基于关键实体和关系生成摘要。

> 注：实际应用中可根据需求扩展字段（如添加分词结果、依存树等）。
